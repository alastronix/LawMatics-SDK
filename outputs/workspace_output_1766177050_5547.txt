        protected async Task<ApiResponse<T>> SendRequestAsync<T>(HttpMethod method, string endpoint, object? data = null)
        {
            var request = new HttpRequestMessage(method, endpoint);

            if (data != null)
            {
                var json = JsonSerializer.Serialize(data, _jsonOptions);
                request.Content = new StringContent(json, System.Text.Encoding.UTF8, "application/json");
            }

            try
            {
                _logger?.LogDebug("Sending {Method} request to {Endpoint}", method.Method, endpoint);

                var response = await _httpClient.SendAsync(request);
                var content = await response.Content.ReadAsStringAsync();

                _logger?.LogDebug("Received response with status {StatusCode}", response.StatusCode);

                if (!response.IsSuccessStatusCode)
                {
