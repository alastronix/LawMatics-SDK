{'role': 'assistant', 'content': '\nNow let me implement the EventTypesClient:\n\n<function_calls>\n<create-file file_path="LawMatics.SDK/Clients/EventTypesClient.cs">\nusing LawMatics.SDK.Configuration;\nusing LawMatics.SDK.Models;\nusing Microsoft.Extensions.Logging;\n\nnamespace LawMatics.SDK.Clients\n{\n    /// <summary>\n    /// Client for managing event types in the LawMatics API.\n    /// </summary>\n    public class EventTypesClient : BaseClient\n    {\n        public EventTypesClient(HttpClient httpClient, LawMaticsClientOptions options, ILogger<EventTypesClient> logger)\n            : base(httpClient, options, logger)\n        {\n        }\n\n        /// <summary>\n        /// Gets all event types with optional pagination and filtering.\n        /// </summary>\n        /// <param name="page">Page number for pagination (default: 1).</param>\n        /// <param name="pageSize">Number of items per page (default: 20).</param>\n        /// <param name="name">Filter by event type name.</param>\n        /// <param name="isActive">Filter by active status.</param>\n        /// <param name="cancellationToken">Cancellation token.</param>\n        /// <returns>A paged list of event types.</returns>\n        public async Task<PagedResponse<EventType>> GetEventTypesAsync(\n            int page = 1,\n            int pageSize = 20,\n            string? name = null,\n            bool? isActive = null,\n            CancellationToken cancellationToken = default)\n        {\n            var parameters = new Dictionary<string, string>\n            {\n                ["page"] = page.ToString(),\n                ["page_size"] = pageSize.ToString()\n            };\n\n            if (!string.IsNullOrEmpty(name))\n                parameters["name"] = name;\n\n            if (isActive.HasValue)\n                parameters["is_active"] = isActive.Value.ToString();\n\n            return await GetAsync<PagedResponse<EventType>>("event-types", parameters, cancellationToken);\n        }\n\n        /// <summary>\n        /// Gets a specific event type by ID.\n        /// </summary>\n        /// <param name="id">The event type ID.</param>\n        /// <param name="cancellationToken">Cancellation token.</param>\n        /// <returns>The event type details.</returns>\n        public async Task<EventType?> GetEventTypeAsync(int id, CancellationToken cancellationToken = default)\n        {\n            return await GetAsync<EventType>($"event-types/{id}", cancellationToken: cancellationToken);\n        }\n\n        /// <summary>\n        /// Creates a new event type.\n        /// </summary>\n        /// <param name="request">The event type creation request.</param>\n        /// <param name="cancellationToken">Cancellation token.</param>\n        /// <returns>The created event type.</returns>\n        public async Task<EventType?> CreateEventTypeAsync(CreateEventTypeRequest request, CancellationToken cancellationToken = default)\n        {\n            return await PostAsync<EventType>("event-types", request, cancellationToken);\n        }\n\n        /// <summary>\n        /// Updates an existing event type.\n        /// </summary>\n        /// <param name="id">The event type ID.</param>\n        /// <param name="request">The event type update request.</param>\n        /// <param name="cancellationToken">Cancellation token.</param>\n        /// <returns>The updated event type.</returns>\n        public async Task<EventType?> UpdateEventTypeAsync(int id, UpdateEventTypeRequest request, CancellationToken cancellationToken = default)\n        {\n            return await PutAsync<EventType>($"event-types/{id}", request, cancellationToken);\n        }\n\n        /// <summary>\n        /// Deletes an event type.\n        /// </summary>\n        /// <param name="id">The event type ID.</param>\n        /// <param name="cancellationToken">Cancellation token.</param>\n        /// <returns>True if deletion was successful.</returns>\n        public async Task<bool> DeleteEventTypeAsync(int id, CancellationToken cancellationToken = default)\n        {\n            return await DeleteAsync($"event-types/{id}", cancellationToken);\n        }\n\n        /// <summary>\n        /// Gets active event types.\n        /// </summary>\n        /// <param name="page">Page number for pagination (default: 1).</param>\n        /// <param name="pageSize">Number of items per page (default: 20).</param>\n        /// <param name="cancellationToken">Cancellation token.</param>\n        /// <returns>A paged list of active event types.</returns>\n        public async Task<PagedResponse<EventType>> GetActiveEventTypesAsync(\n            int page = 1,\n            int pageSize = 20,\n            CancellationToken cancellationToken = default)\n        {\n            return await GetEventTypesAsync(page, pageSize, isActive: true, cancellationToken: cancellationToken);\n        }\n\n        /// <summary>\n        /// Searches event types by name.\n        /// </summary>\n        /// <param name="query">Search query.</param>\n        /// <param name="page">Page number for pagination (default: 1).</param>\n        /// <param name="pageSize">Number of items per page (default: 20).</param>\n        /// <param name="cancellationToken">Cancellation token.</param>\n        /// <returns>A paged list of event types matching the search query.</returns>\n        public async Task<PagedResponse<EventType>> SearchEventTypesAsync(\n            string query,\n            int page = 1,\n            int pageSize = 20,\n            CancellationToken cancellationToken = default)\n        {\n            return await GetEventTypesAsync(page, pageSize, name: query, cancellationToken: cancellationToken);\n        }\n\n        /// <summary>\n        /// Gets events of a specific type.\n        /// </summary>\n        /// <param name="eventTypeId">The event type ID.</param>\n        /// <param name="dateFrom">Filter by start date (optional).</param>\n        /// <param name="dateTo">Filter by end date (optional).</param>\n        /// <param name="page">Page number for pagination (default: 1).</param>\n        /// <param name="pageSize">Number of items per page (default: 20).</param>\n        /// <param name="cancellationToken">Cancellation token.</param>\n        /// <returns>A paged list of events of the specified type.</returns>\n        public async Task<PagedResponse<Event>> GetEventsByTypeAsync(\n            int eventTypeId,\n            DateTime? dateFrom = null,\n            DateTime? dateTo = null,\n            int page = 1,\n            int pageSize = 20,\n            CancellationToken cancellationToken = default)\n        {\n            var parameters = new Dictionary<string, string>\n            {\n                ["page"] = page.ToString(),\n                ["page_size"] = pageSize.ToString()\n            };\n\n            if (dateFrom.HasValue)\n                parameters["date_from"] = dateFrom.Value.ToString("yyyy-MM-dd");\n\n            if (dateTo.HasValue)\n                parameters["date_to"] = dateTo.Value.ToString("yyyy-MM-dd");\n\n            return await GetAsync<PagedResponse<Event>>($"event-types/{eventTypeId}/events", parameters, cancellationToken);\n        }\n\n        /// <summary>\n        /// Gets event type statistics.\n        /// </summary>\n        /// <param name="eventTypeId">The event type ID.</param>\n        /// <param name="dateFrom">Start date (optional).</param>\n        /// <param name="dateTo">End date (optional).</param>\n        /// <param name="cancellationToken">Cancellation token.</param>\n        /// <returns>Event type statistics.</returns>\n        public async Task<EventTypeStatistics?> GetEventTypeStatisticsAsync(\n            int eventTypeId,\n            DateTime? dateFrom = null,\n            DateTime? dateTo = null,\n            CancellationToken cancellationToken = default)\n        {\n            var parameters = new Dictionary<string, string>();\n\n            if (dateFrom.HasValue)\n                parameters["date_from"] = dateFrom.Value.ToString("yyyy-MM-dd");\n\n            if (dateTo.HasValue)\n                parameters["date_to"] = dateTo.Value.ToString("yyyy-MM-dd");\n\n            return await GetAsync<EventTypeStatistics>($"event-types/{eventTypeId}/statistics", parameters, cancellationToken);\n        }\n\n        /// <summary>\n        /// Gets event type usage trends.\n        /// </summary>\n        /// <param name="eventTypeId">The event type ID.</param>\n        /// <param name="dateFrom">Start date.</param>\n        /// <param name="dateTo">End date.</param>\n        /// <param name="groupBy">How to group the data (day, week, month).</param>\n        /// <param name="cancellationToken">Cancellation token.</param>\n        /// <returns>Event type usage trends.</returns>\n        public async Task<EventTypeTrends?> GetEventTypeTrendsAsync(\n            int eventTypeId,\n            DateTime dateFrom,\n            DateTime dateTo,\n            string groupBy = "day",\n            CancellationToken cancellationToken = default)\n        {\n            var parameters = new Dictionary<string, string>\n            {\n                ["date_from"] = dateFrom.ToString("yyyy-MM-dd"),\n                ["date_to"] = dateTo.ToString("yyyy-MM-dd"),\n                ["group_by"] = groupBy\n            };\n\n            return await GetAsync<EventTypeTrends>($"event-types/{eventTypeId}/trends", parameters, cancellationToken);\n        }\n\n        /// <summary>\n        /// Duplicates an event type.\n        /// </summary>\n        /// <param name="id">The event type ID to duplicate.</param>\n        /// <param name="newName">The name for the duplicated event type.</param>\n        /// <param name="cancellationToken">Cancellation token.</param>\n        /// <returns>The duplicated event type.</returns>\n        public async Task<EventType?> DuplicateEventTypeAsync(\n            int id,\n            string newName,\n            CancellationToken cancellationToken = default)\n        {\n            var request = new { name = newName };\n            return await PostAsync<EventType>($"event-types/{id}/duplicate", request, cancellationToken);\n        }\n\n        /// <summary>\n        /// Validates event type data.\n        /// </summary>\n        /// <param name="request">The event type request to validate.</param>\n        /// <param name="cancellationToken">Cancellation token.</param>\n        /// <returns>Validation result.</returns>\n        public async Task<EventTypeValidationResult?> ValidateEventTypeAsync(\n            CreateEventTypeRequest request,\n            CancellationToken cancellationToken = default)\n        {\n            return await PostAsync<EventTypeValidationResult>("event-types/validate", request, cancellationToken);\n        }\n\n        /// <summary>\n        /// Gets the most popular event types.\n        /// </summary>\n        /// <param name="dateFrom">Start date (optional).</param>\n        /// <param name="dateTo">End date (optional).</param>\n        /// <param name="limit">Maximum number of results to return (default: 10).</param>\n        /// <param name="cancellationToken">Cancellation token.</param>\n        /// <returns>A list of popular event types with usage counts.</returns>\n        public async Task<List<PopularEventType>> GetPopularEventTypesAsync(\n            DateTime? dateFrom = null,\n            DateTime? dateTo = null,\n            int limit = 10,\n            CancellationToken cancellationToken = default)\n        {\n            var parameters = new Dictionary<string, string>\n            {\n                ["limit"] = limit.ToString()\n            };\n\n            if (dateFrom.HasValue)\n                parameters["date_from"] = dateFrom.Value.ToString("yyyy-MM-dd");\n\n            if (dateTo.HasValue)\n                parameters["date_to"] = dateTo.Value.ToString("yyyy-MM-dd");\n\n            var response = await GetAsync<PopularEventTypesResponse>("event-types/popular", parameters, cancellationToken);\n            return response?.PopularTypes ?? new List<PopularEventType>();\n        }\n\n        /// <summary>\n        /// Gets event type colors for calendar visualization.\n        /// </summary>\n        /// <param name="cancellationToken">Cancellation token.</param>\n        /// <returns>A list of event types with their colors.</returns>\n        public async Task<List<EventTypeColor>> GetEventTypeColorsAsync(CancellationToken cancellationToken = default)\n        {\n            var response = await GetAsync<EventTypeColorsResponse>("event-types/colors", cancellationToken: cancellationToken);\n            return response?.Colors ?? new List<EventTypeColor>();\n        }\n\n        /// <summary>\n        /// Updates the order of event types.\n        /// </summary>\n        /// <param name="typeOrders">List of event type IDs and their new order.</param>\n        /// <param name="cancellationToken">Cancellation token.</param>\n        /// <returns>True if the order update was successful.</returns>\n        public async Task<bool> UpdateEventTypeOrderAsync(\n            List<EventTypeOrder> typeOrders,\n            CancellationToken cancellationToken = default)\n        {\n            var request = new { event_types = typeOrders };\n            var response = await PutAsync<object>("event-types/order", request, cancellationToken);\n            return response != null;\n        }\n\n        /// <summary>\n        /// Exports event types to CSV.\n        /// </summary>\n        /// <param name="includeStatistics">Include usage statistics.</param>\n        /// <param name="cancellationToken">Cancellation token.</param>\n        /// <returns>The CSV file content.</returns>\n        public async Task<byte[]> ExportEventTypesToCsvAsync(\n            bool includeStatistics = false,\n            CancellationToken cancellationToken = default)\n        {\n            var parameters = new Dictionary<string, string>\n            {\n                ["format"] = "csv",\n                ["include_statistics"] = includeStatistics.ToString()\n            };\n\n            return await GetFileAsync("event-types/export", parameters, cancellationToken);\n        }\n    }\n\n    /// <summary>\n    /// Represents event type statistics.\n    /// </summary>\n    public class EventTypeStatistics\n    {\n        /// <summary>\n        /// Gets or sets the event type ID.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("event_type_id")]\n        public int EventTypeId { get; set; }\n\n        /// <summary>\n        /// Gets or sets the event type name.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("event_type_name")]\n        public string EventTypeName { get; set; } = string.Empty;\n\n        /// <summary>\n        /// Gets or sets the total events.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("total_events")]\n        public int TotalEvents { get; set; }\n\n        /// <summary>\n        /// Gets or sets the total duration in minutes.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("total_duration_minutes")]\n        public int TotalDurationMinutes { get; set; }\n\n        /// <summary>\n        /// Gets or sets the average duration in minutes.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("average_duration_minutes")]\n        public decimal AverageDurationMinutes { get; set; }\n\n        /// <summary>\n        /// Gets or sets the total attendees.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("total_attendees")]\n        public int TotalAttendees { get; set; }\n\n        /// <summary>\n        /// Gets or sets the average attendance.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("average_attendance")]\n        public decimal AverageAttendance { get; set; }\n\n        /// <summary>\n        /// Gets or sets the breakdown by month.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("monthly_breakdown")]\n        public List<MonthlyEventTypeStats> MonthlyBreakdown { get; set; } = new();\n    }\n\n    /// <summary>\n    /// Represents monthly event type statistics.\n    /// </summary>\n    public class MonthlyEventTypeStats\n    {\n        /// <summary>\n        /// Gets or sets the month.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("month")]\n        public string Month { get; set; } = string.Empty;\n\n        /// <summary>\n        /// Gets or sets the number of events.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("events")]\n        public int Events { get; set; }\n\n        /// <summary>\n        /// Gets or sets the total duration.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("duration_minutes")]\n        public int DurationMinutes { get; set; }\n\n        /// <summary>\n        /// Gets or sets the total attendees.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("attendees")]\n        public int Attendees { get; set; }\n    }\n\n    /// <summary>\n    /// Represents event type trends.\n    /// </summary>\n    public class EventTypeTrends\n    {\n        /// <summary>\n        /// Gets or sets the event type ID.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("event_type_id")]\n        public int EventTypeId { get; set; }\n\n        /// <summary>\n        /// Gets or sets the event type name.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("event_type_name")]\n        public string EventTypeName { get; set; } = string.Empty;\n\n        /// <summary>\n        /// Gets or sets the trend data points.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("data_points")]\n        public List<TrendDataPoint> DataPoints { get; set; } = new();\n\n        /// <summary>\n        /// Gets or sets the trend direction (increasing, decreasing, stable).\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("trend_direction")]\n        public string TrendDirection { get; set; } = string.Empty;\n\n        /// <summary>\n        /// Gets or sets the trend percentage.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("trend_percentage")]\n        public decimal TrendPercentage { get; set; }\n    }\n\n    /// <summary>\n    /// Represents a trend data point.\n    /// </summary>\n    public class TrendDataPoint\n    {\n        /// <summary>\n        /// Gets or sets the date or period.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("date")]\n        public string Date { get; set; } = string.Empty;\n\n        /// <summary>\n        /// Gets or sets the value.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("value")]\n        public int Value { get; set; }\n    }\n\n    /// <summary>\n    /// Represents event type validation result.\n    /// </summary>\n    public class EventTypeValidationResult\n    {\n        /// <summary>\n        /// Gets or sets whether the event type is valid.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("is_valid")]\n        public bool IsValid { get; set; }\n\n        /// <summary>\n        /// Gets or sets validation errors.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("errors")]\n        public List<string> Errors { get; set; } = new();\n\n        /// <summary>\n        /// Gets or sets validation warnings.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("warnings")]\n        public List<string> Warnings { get; set; } = new();\n    }\n\n    /// <summary>\n    /// Response model for popular event types.\n    /// </summary>\n    public class PopularEventTypesResponse\n    {\n        /// <summary>\n        /// Gets or sets the list of popular event types.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("popular_types")]\n        public List<PopularEventType> PopularTypes { get; set; } = new();\n    }\n\n    /// <summary>\n    /// Represents a popular event type.\n    /// </summary>\n    public class PopularEventType\n    {\n        /// <summary>\n        /// Gets or sets the event type ID.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("event_type_id")]\n        public int EventTypeId { get; set; }\n\n        /// <summary>\n        /// Gets or sets the event type name.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("event_type_name")]\n        public string EventTypeName { get; set; } = string.Empty;\n\n        /// <summary>\n        /// Gets or sets the usage count.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("usage_count")]\n        public int UsageCount { get; set; }\n\n        /// <summary>\n        /// Gets or sets the percentage of total events.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("percentage")]\n        public decimal Percentage { get; set; }\n    }\n\n    /// <summary>\n    /// Response model for event type colors.\n    /// </summary>\n    public class EventTypeColorsResponse\n    {\n        /// <summary>\n        /// Gets or sets the list of event type colors.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("colors")]\n        public List<EventTypeColor> Colors { get; set; } = new();\n    }\n\n    /// <summary>\n    /// Represents an event type color.\n    /// </summary>\n    public class EventTypeColor\n    {\n        /// <summary>\n        /// Gets or sets the event type ID.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("event_type_id")]\n        public int EventTypeId { get; set; }\n\n        /// <summary>\n        /// Gets or sets the event type name.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("event_type_name")]\n        public string EventTypeName { get; set; } = string.Empty;\n\n        /// <summary>\n        /// Gets or sets the color.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("color")]\n        public string Color { get; set; } = string.Empty;\n    }\n\n    /// <summary>\n    /// Represents event type order.\n    /// </summary>\n    public class EventTypeOrder\n    {\n        /// <summary>\n        /// Gets or sets the event type ID.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("event_type_id")]\n        public int EventTypeId { get; set; }\n\n        /// <summary>\n        /// Gets or sets the order position.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("order")]\n        public int Order { get; set; }\n    }\n}\n</create-file>\n</function_calls>'}