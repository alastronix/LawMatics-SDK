{'role': 'assistant', 'content': '\nNow let me create tests for the remaining clients: EmailCampaignsClient, PaymentsClient, CustomFieldsClient, CustomFormsClient, NotesClient, and UsersClient. Let me start with EmailCampaignsClient.\n\n\n\n<function_calls>\n<create-file file_path="./LawMatics.SDK.Tests/Clients/EmailCampaignsClientTests.cs">\nusing System;\nusing System.Net;\nusing System.Net.Http;\nusing System.Text.Json;\nusing System.Threading;\nusing System.Threading.Tasks;\nusing LawMatics.SDK.Authentication;\nusing LawMatics.SDK.Clients;\nusing LawMatics.SDK.Configuration;\nusing LawMatics.SDK.Models;\nusing Microsoft.Extensions.Logging;\nusing Moq;\nusing Moq.Protected;\nusing Xunit;\n\nnamespace LawMatics.SDK.Tests.Clients\n{\n    /// <summary>\n    /// Unit tests for the <see cref="EmailCampaignsClient"/> class.\n    /// </summary>\n    public class EmailCampaignsClientTests : IDisposable\n    {\n        private readonly Mock<HttpMessageHandler> _mockHttpMessageHandler;\n        private readonly Mock<ILogger<EmailCampaignsClient>> _mockLogger;\n        private readonly LawMaticsClientOptions _options;\n        private readonly LawMaticsCredentials _credentials;\n        private readonly HttpClient _httpClient;\n        private readonly EmailCampaignsClient _client;\n\n        public EmailCampaignsClientTests()\n        {\n            _mockHttpMessageHandler = new Mock<HttpMessageHandler>();\n            _mockLogger = new Mock<ILogger<EmailCampaignsClient>>();\n            _options = new LawMaticsClientOptions\n            {\n                BaseUrl = "https://api.test.lawmatics.com",\n                ApiVersion = "v1",\n                TimeoutSeconds = 30\n            };\n            _credentials = new LawMaticsCredentials("test-access-token");\n            _httpClient = new HttpClient(_mockHttpMessageHandler.Object);\n            _client = new EmailCampaignsClient(_httpClient, _options, _mockLogger.Object);\n        }\n\n        [Fact]\n        public async Task GetEmailCampaignsAsync_WithValidResponse_ReturnsCampaigns()\n        {\n            // Arrange\n            var expectedResponse = new PagedResponse<EmailCampaign>\n            {\n                Data = new List<EmailCampaign>\n                {\n                    new EmailCampaign { Id = 1, Name = "Test Campaign 1", Subject = "Subject 1", Status = "Draft" },\n                    new EmailCampaign { Id = 2, Name = "Test Campaign 2", Subject = "Subject 2", Status = "Sent" }\n                },\n                Pagination = new PaginationInfo { Page = 1, PageSize = 10, TotalCount = 2 }\n            };\n            var responseJson = JsonSerializer.Serialize(expectedResponse);\n            var httpResponse = new HttpResponseMessage(HttpStatusCode.OK)\n            {\n                Content = new StringContent(responseJson, System.Text.Encoding.UTF8, "application/json")\n            };\n\n            _mockHttpMessageHandler\n                .Protected()\n                .Setup<Task<HttpResponseMessage>>(\n                    "SendAsync",\n                    ItExpr.IsAny<HttpRequestMessage>(),\n                    ItExpr.IsAny<CancellationToken>())\n                .ReturnsAsync(httpResponse);\n\n            // Act\n            var result = await _client.GetEmailCampaignsAsync();\n\n            // Assert\n            Assert.NotNull(result);\n            Assert.NotNull(result.Data);\n            Assert.Equal(2, result.Data.Count);\n            Assert.Equal("Test Campaign 1", result.Data[0].Name);\n            Assert.Equal("Test Campaign 2", result.Data[1].Name);\n        }\n\n        [Fact]\n        public async Task GetEmailCampaignAsync_WithValidId_ReturnsCampaign()\n        {\n            // Arrange\n            var expectedResponse = new ApiResponse<EmailCampaign>\n            {\n                Data = new EmailCampaign { Id = 1, Name = "Test Campaign", Subject = "Test Subject", Status = "Draft" }\n            };\n            var responseJson = JsonSerializer.Serialize(expectedResponse);\n            var httpResponse = new HttpResponseMessage(HttpStatusCode.OK)\n            {\n                Content = new StringContent(responseJson, System.Text.Encoding.UTF8, "application/json")\n            };\n\n            _mockHttpMessageHandler\n                .Protected()\n                .Setup<Task<HttpResponseMessage>>(\n                    "SendAsync",\n                    ItExpr.IsAny<HttpRequestMessage>(),\n                    ItExpr.IsAny<CancellationToken>())\n                .ReturnsAsync(httpResponse);\n\n            // Act\n            var result = await _client.GetEmailCampaignAsync(1);\n\n            // Assert\n            Assert.NotNull(result);\n            Assert.NotNull(result.Data);\n            Assert.Equal(1, result.Data.Id);\n            Assert.Equal("Test Campaign", result.Data.Name);\n            Assert.Equal("Test Subject", result.Data.Subject);\n            Assert.Equal("Draft", result.Data.Status);\n        }\n\n        [Fact]\n        public async Task CreateEmailCampaignAsync_WithValidRequest_ReturnsCreatedCampaign()\n        {\n            // Arrange\n            var request = new CreateEmailCampaignRequest\n            {\n                Name = "New Campaign",\n                Subject = "New Subject",\n                HtmlContent = "<h1>Test Content</h1>",\n                TextContent = "Test Content",\n                FromEmail = "test@example.com",\n                FromName = "Test Sender"\n            };\n            var expectedResponse = new ApiResponse<EmailCampaign>\n            {\n                Data = new EmailCampaign \n                { \n                    Id = 1, \n                    Name = request.Name, \n                    Subject = request.Subject,\n                    HtmlContent = request.HtmlContent,\n                    TextContent = request.TextContent,\n                    FromEmail = request.FromEmail,\n                    FromName = request.FromName,\n                    Status = "Draft"\n                }\n            };\n            var responseJson = JsonSerializer.Serialize(expectedResponse);\n            var httpResponse = new HttpResponseMessage(HttpStatusCode.Created)\n            {\n                Content = new StringContent(responseJson, System.Text.Encoding.UTF8, "application/json")\n            };\n\n            _mockHttpMessageHandler\n                .Protected()\n                .Setup<Task<HttpResponseMessage>>(\n                    "SendAsync",\n                    ItExpr.IsAny<HttpRequestMessage>(),\n                    ItExpr.IsAny<CancellationToken>())\n                .ReturnsAsync(httpResponse);\n\n            // Act\n            var result = await _client.CreateEmailCampaignAsync(request);\n\n            // Assert\n            Assert.NotNull(result);\n            Assert.NotNull(result.Data);\n            Assert.Equal(1, result.Data.Id);\n            Assert.Equal(request.Name, result.Data.Name);\n            Assert.Equal(request.Subject, result.Data.Subject);\n            Assert.Equal(request.HtmlContent, result.Data.HtmlContent);\n            Assert.Equal(request.TextContent, result.Data.TextContent);\n            Assert.Equal(request.FromEmail, result.Data.FromEmail);\n            Assert.Equal(request.FromName, result.Data.FromName);\n            Assert.Equal("Draft", result.Data.Status);\n        }\n\n        [Fact]\n        public async Task UpdateEmailCampaignAsync_WithValidRequest_ReturnsUpdatedCampaign()\n        {\n            // Arrange\n            var request = new UpdateEmailCampaignRequest\n            {\n                Name = "Updated Campaign",\n                Subject = "Updated Subject",\n                HtmlContent = "<h1>Updated Content</h1>"\n            };\n            var expectedResponse = new ApiResponse<EmailCampaign>\n            {\n                Data = new EmailCampaign \n                { \n                    Id = 1, \n                    Name = request.Name, \n                    Subject = request.Subject,\n                    HtmlContent = request.HtmlContent\n                }\n            };\n            var responseJson = JsonSerializer.Serialize(expectedResponse);\n            var httpResponse = new HttpResponseMessage(HttpStatusCode.OK)\n            {\n                Content = new StringContent(responseJson, System.Text.Encoding.UTF8, "application/json")\n            };\n\n            _mockHttpMessageHandler\n                .Protected()\n                .Setup<Task<HttpResponseMessage>>(\n                    "SendAsync",\n                    ItExpr.IsAny<HttpRequestMessage>(),\n                    ItExpr.IsAny<CancellationToken>())\n                .ReturnsAsync(httpResponse);\n\n            // Act\n            var result = await _client.UpdateEmailCampaignAsync(1, request);\n\n            // Assert\n            Assert.NotNull(result);\n            Assert.NotNull(result.Data);\n            Assert.Equal(1, result.Data.Id);\n            Assert.Equal(request.Name, result.Data.Name);\n            Assert.Equal(request.Subject, result.Data.Subject);\n            Assert.Equal(request.HtmlContent, result.Data.HtmlContent);\n        }\n\n        [Fact]\n        public async Task DeleteEmailCampaignAsync_WithValidId_ReturnsSuccessResponse()\n        {\n            // Arrange\n            var expectedResponse = new ApiResponse<object> { Data = null };\n            var responseJson = JsonSerializer.Serialize(expectedResponse);\n            var httpResponse = new HttpResponseMessage(HttpStatusCode.NoContent)\n            {\n                Content = new StringContent(responseJson, System.Text.Encoding.UTF8, "application/json")\n            };\n\n            _mockHttpMessageHandler\n                .Protected()\n                .Setup<Task<HttpResponseMessage>>(\n                    "SendAsync",\n                    ItExpr.IsAny<HttpRequestMessage>(),\n                    ItExpr.IsAny<CancellationToken>())\n                .ReturnsAsync(httpResponse);\n\n            // Act\n            var result = await _client.DeleteEmailCampaignAsync(1);\n\n            // Assert\n            Assert.NotNull(result);\n        }\n\n        [Fact]\n        public async Task SendEmailCampaignAsync_WithValidId_ReturnsSuccessResponse()\n        {\n            // Arrange\n            var campaignId = 1;\n            var expectedResponse = new ApiResponse<EmailCampaignStats>\n            {\n                Data = new EmailCampaignStats \n                { \n                    CampaignId = campaignId,\n                    Status = "Sent",\n                    SentCount = 100,\n                    DeliveredCount = 95,\n                    OpenedCount = 50,\n                    ClickedCount = 25\n                }\n            };\n            var responseJson = JsonSerializer.Serialize(expectedResponse);\n            var httpResponse = new HttpResponseMessage(HttpStatusCode.OK)\n            {\n                Content = new StringContent(responseJson, System.Text.Encoding.UTF8, "application/json")\n            };\n\n            _mockHttpMessageHandler\n                .Protected()\n                .Setup<Task<HttpResponseMessage>>(\n                    "SendAsync",\n                    ItExpr.IsAny<HttpRequestMessage>(),\n                    ItExpr.IsAny<CancellationToken>())\n                .ReturnsAsync(httpResponse);\n\n            // Act\n            var result = await _client.SendEmailCampaignAsync(campaignId);\n\n            // Assert\n            Assert.NotNull(result);\n            Assert.NotNull(result.Data);\n            Assert.Equal(campaignId, result.Data.CampaignId);\n            Assert.Equal("Sent", result.Data.Status);\n            Assert.Equal(100, result.Data.SentCount);\n        }\n\n        [Fact]\n        public async Task GetCampaignStatsAsync_WithValidId_ReturnsStats()\n        {\n            // Arrange\n            var campaignId = 1;\n            var expectedResponse = new ApiResponse<EmailCampaignStats>\n            {\n                Data = new EmailCampaignStats \n                { \n                    CampaignId = campaignId,\n                    Status = "Sent",\n                    SentCount = 100,\n                    DeliveredCount = 95,\n                    OpenedCount = 50,\n                    ClickedCount = 25,\n                    BouncedCount = 5,\n                    UnsubscribedCount = 2\n                }\n            };\n            var responseJson = JsonSerializer.Serialize(expectedResponse);\n            var httpResponse = new HttpResponseMessage(HttpStatusCode.OK)\n            {\n                Content = new StringContent(responseJson, System.Text.Encoding.UTF8, "application/json")\n            };\n\n            _mockHttpMessageHandler\n                .Protected()\n                .Setup<Task<HttpResponseMessage>>(\n                    "SendAsync",\n                    ItExpr.IsAny<HttpRequestMessage>(),\n                    ItExpr.IsAny<CancellationToken>())\n                .ReturnsAsync(httpResponse);\n\n            // Act\n            var result = await _client.GetCampaignStatsAsync(campaignId);\n\n            // Assert\n            Assert.NotNull(result);\n            Assert.NotNull(result.Data);\n            Assert.Equal(campaignId, result.Data.CampaignId);\n            Assert.Equal(100, result.Data.SentCount);\n            Assert.Equal(95, result.Data.DeliveredCount);\n            Assert.Equal(50, result.Data.OpenedCount);\n            Assert.Equal(25, result.Data.ClickedCount);\n            Assert.Equal(5, result.Data.BouncedCount);\n            Assert.Equal(2, result.Data.UnsubscribedCount);\n        }\n\n        public void Dispose()\n        {\n            _httpClient?.Dispose();\n            _client?.Dispose();\n        }\n    }\n}\n</create-file>\n</function_calls>'}