using System;
using System.Collections.Generic;
using System.Net.Http;
using System.Net.Http.Headers;
using System.Text;
using System.Text.Json;
using System.Threading;
using System.Threading.Tasks;
using LawMatics.SDK.Authentication;
using LawMatics.SDK.Configuration;
using LawMatics.SDK.Exceptions;
using LawMatics.SDK.Models;
using Microsoft.Extensions.Logging;
using Microsoft.Extensions.Logging.Abstractions;

namespace LawMatics.SDK
{
    /// <summary>
    /// The main client for interacting with the LawMatics API.
    /// </summary>
    public class LawMaticsClient : IDisposable
    {
        private readonly HttpClient _httpClient;
        private readonly LawMaticsClientOptions _options;
        private readonly ILogger<LawMaticsClient> _logger;
        private readonly JsonSerializerOptions _jsonOptions;
        private bool _disposed;

        /// <summary>
        /// Gets the authentication credentials.
        /// </summary>
        public LawMaticsCredentials Credentials { get; private set; }

        /// <summary>
        /// Gets the contacts client for managing contacts.
        /// </summary>
        public Clients.ContactsClient Contacts { get; }

        /// <summary>
        /// Gets the companies client for managing companies.
        /// </summary>
        public Clients.CompaniesClient Companies { get; }

        /// <summary>
        /// Gets the matters client for managing matters (prospects).
        /// </summary>
        public Clients.MattersClient Matters { get; }

        /// <summary>
        /// Gets the events client for managing events (appointments).
