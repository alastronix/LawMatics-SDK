            };

            throw exception;
        }

        protected string BuildQueryString(object parameters)
        {
            var properties = parameters.GetType().GetProperties()
                .Where(p => p.GetValue(parameters) != null)
                .Select(p => $"{char.ToLowerInvariant(p.Name[0])}{p.Name.Substring(1)}={Uri.EscapeDataString(p.GetValue(parameters)?.ToString() ?? "")}");

            return string.Join("&", properties);
        }
    }
}
