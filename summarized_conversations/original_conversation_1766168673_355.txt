{'role': 'assistant', 'content': '\nNow let me implement the ExpensesClient:\n\n<function_calls>\n<create-file file_path="LawMatics.SDK/Clients/ExpensesClient.cs">\nusing LawMatics.SDK.Configuration;\nusing LawMatics.SDK.Models;\nusing Microsoft.Extensions.Logging;\n\nnamespace LawMatics.SDK.Clients\n{\n    /// <summary>\n    /// Client for managing expenses in the LawMatics API.\n    /// </summary>\n    public class ExpensesClient : BaseClient\n    {\n        public ExpensesClient(HttpClient httpClient, LawMaticsClientOptions options, ILogger<ExpensesClient> logger)\n            : base(httpClient, options, logger)\n        {\n        }\n\n        /// <summary>\n        /// Gets all expenses with optional pagination and filtering.\n        /// </summary>\n        /// <param name="page">Page number for pagination (default: 1).</param>\n        /// <param name="pageSize">Number of items per page (default: 20).</param>\n        /// <param name="matterId">Filter by matter ID.</param>\n        /// <param name="category">Filter by expense category.</param>\n        /// <param name="dateFrom">Filter by expense date from.</param>\n        /// <param name="dateTo">Filter by expense date to.</param>\n        /// <param name="amountFrom">Filter by minimum amount.</param>\n        /// <param name="amountTo">Filter by maximum amount.</param>\n        /// <param name="cancellationToken">Cancellation token.</param>\n        /// <returns>A paged list of expenses.</returns>\n        public async Task<PagedResponse<Expense>> GetExpensesAsync(\n            int page = 1,\n            int pageSize = 20,\n            int? matterId = null,\n            string? category = null,\n            DateTime? dateFrom = null,\n            DateTime? dateTo = null,\n            decimal? amountFrom = null,\n            decimal? amountTo = null,\n            CancellationToken cancellationToken = default)\n        {\n            var parameters = new Dictionary<string, string>\n            {\n                ["page"] = page.ToString(),\n                ["page_size"] = pageSize.ToString()\n            };\n\n            if (matterId.HasValue)\n                parameters["matter_id"] = matterId.Value.ToString();\n\n            if (!string.IsNullOrEmpty(category))\n                parameters["category"] = category;\n\n            if (dateFrom.HasValue)\n                parameters["date_from"] = dateFrom.Value.ToString("yyyy-MM-dd");\n\n            if (dateTo.HasValue)\n                parameters["date_to"] = dateTo.Value.ToString("yyyy-MM-dd");\n\n            if (amountFrom.HasValue)\n                parameters["amount_from"] = amountFrom.Value.ToString();\n\n            if (amountTo.HasValue)\n                parameters["amount_to"] = amountTo.Value.ToString();\n\n            return await GetAsync<PagedResponse<Expense>>("expenses", parameters, cancellationToken);\n        }\n\n        /// <summary>\n        /// Gets a specific expense by ID.\n        /// </summary>\n        /// <param name="id">The expense ID.</param>\n        /// <param name="cancellationToken">Cancellation token.</param>\n        /// <returns>The expense details.</returns>\n        public async Task<Expense?> GetExpenseAsync(int id, CancellationToken cancellationToken = default)\n        {\n            return await GetAsync<Expense>($"expenses/{id}", cancellationToken: cancellationToken);\n        }\n\n        /// <summary>\n        /// Creates a new expense.\n        /// </summary>\n        /// <param name="request">The expense creation request.</param>\n        /// <param name="cancellationToken">Cancellation token.</param>\n        /// <returns>The created expense.</returns>\n        public async Task<Expense?> CreateExpenseAsync(CreateExpenseRequest request, CancellationToken cancellationToken = default)\n        {\n            return await PostAsync<Expense>("expenses", request, cancellationToken);\n        }\n\n        /// <summary>\n        /// Updates an existing expense.\n        /// </summary>\n        /// <param name="id">The expense ID.</param>\n        /// <param name="request">The expense update request.</param>\n        /// <param name="cancellationToken">Cancellation token.</param>\n        /// <returns>The updated expense.</returns>\n        public async Task<Expense?> UpdateExpenseAsync(int id, UpdateExpenseRequest request, CancellationToken cancellationToken = default)\n        {\n            return await PutAsync<Expense>($"expenses/{id}", request, cancellationToken);\n        }\n\n        /// <summary>\n        /// Deletes an expense.\n        /// </summary>\n        /// <param name="id">The expense ID.</param>\n        /// <param name="cancellationToken">Cancellation token.</param>\n        /// <returns>True if deletion was successful.</returns>\n        public async Task<bool> DeleteExpenseAsync(int id, CancellationToken cancellationToken = default)\n        {\n            return await DeleteAsync($"expenses/{id}", cancellationToken);\n        }\n\n        /// <summary>\n        /// Gets expenses for a specific matter.\n        /// </summary>\n        /// <param name="matterId">The matter ID.</param>\n        /// <param name="page">Page number for pagination (default: 1).</param>\n        /// <param name="pageSize">Number of items per page (default: 20).</param>\n        /// <param name="cancellationToken">Cancellation token.</param>\n        /// <returns>A paged list of expenses for the matter.</returns>\n        public async Task<PagedResponse<Expense>> GetExpensesByMatterAsync(\n            int matterId,\n            int page = 1,\n            int pageSize = 20,\n            CancellationToken cancellationToken = default)\n        {\n            return await GetExpensesAsync(page, pageSize, matterId: matterId, cancellationToken: cancellationToken);\n        }\n\n        /// <summary>\n        /// Gets expenses within a specified date range.\n        /// </summary>\n        /// <param name="fromDate">Start date.</param>\n        /// <param name="toDate">End date.</param>\n        /// <param name="page">Page number for pagination (default: 1).</param>\n        /// <param name="pageSize">Number of items per page (default: 20).</param>\n        /// <param name="cancellationToken">Cancellation token.</param>\n        /// <returns>A paged list of expenses in the specified date range.</returns>\n        public async Task<PagedResponse<Expense>> GetExpensesByDateRangeAsync(\n            DateTime fromDate,\n            DateTime toDate,\n            int page = 1,\n            int pageSize = 20,\n            CancellationToken cancellationToken = default)\n        {\n            return await GetExpensesAsync(page, pageSize, dateFrom: fromDate, dateTo: toDate, cancellationToken: cancellationToken);\n        }\n\n        /// <summary>\n        /// Gets expenses by category.\n        /// </summary>\n        /// <param name="category">The expense category.</param>\n        /// <param name="page">Page number for pagination (default: 1).</param>\n        /// <param name="pageSize">Number of items per page (default: 20).</param>\n        /// <param name="cancellationToken">Cancellation token.</param>\n        /// <returns>A paged list of expenses in the specified category.</returns>\n        public async Task<PagedResponse<Expense>> GetExpensesByCategoryAsync(\n            string category,\n            int page = 1,\n            int pageSize = 20,\n            CancellationToken cancellationToken = default)\n        {\n            return await GetExpensesAsync(page, pageSize, category: category, cancellationToken: cancellationToken);\n        }\n\n        /// <summary>\n        /// Gets expense categories.\n        /// </summary>\n        /// <param name="cancellationToken">Cancellation token.</param>\n        /// <returns>A list of expense categories.</returns>\n        public async Task<List<string>> GetExpenseCategoriesAsync(CancellationToken cancellationToken = default)\n        {\n            var response = await GetAsync<ExpenseCategoriesResponse>("expenses/categories", cancellationToken: cancellationToken);\n            return response?.Categories ?? new List<string>();\n        }\n\n        /// <summary>\n        /// Gets expense summary for a matter.\n        /// </summary>\n        /// <param name="matterId">The matter ID.</param>\n        /// <param name="cancellationToken">Cancellation token.</param>\n        /// <returns>Expense summary for the matter.</returns>\n        public async Task<ExpenseSummary?> GetExpenseSummaryByMatterAsync(int matterId, CancellationToken cancellationToken = default)\n        {\n            return await GetAsync<ExpenseSummary>($"expenses/matters/{matterId}/summary", cancellationToken: cancellationToken);\n        }\n\n        /// <summary>\n        /// Gets expense summary for a date range.\n        /// </summary>\n        /// <param name="fromDate">Start date.</param>\n        /// <param name="toDate">End date.</param>\n        /// <param name="cancellationToken">Cancellation token.</param>\n        /// <returns>Expense summary for the date range.</returns>\n        public async Task<ExpenseSummary?> GetExpenseSummaryByDateRangeAsync(\n            DateTime fromDate,\n            DateTime toDate,\n            CancellationToken cancellationToken = default)\n        {\n            var parameters = new Dictionary<string, string>\n            {\n                ["from_date"] = fromDate.ToString("yyyy-MM-dd"),\n                ["to_date"] = toDate.ToString("yyyy-MM-dd")\n            };\n\n            return await GetAsync<ExpenseSummary>("expenses/summary", parameters, cancellationToken);\n        }\n\n        /// <summary>\n        /// Searches expenses by keyword.\n        /// </summary>\n        /// <param name="query">Search query.</param>\n        /// <param name="page">Page number for pagination (default: 1).</param>\n        /// <param name="pageSize">Number of items per page (default: 20).</param>\n        /// <param name="cancellationToken">Cancellation token.</param>\n        /// <returns>A paged list of expenses matching the search query.</returns>\n        public async Task<PagedResponse<Expense>> SearchExpensesAsync(\n            string query,\n            int page = 1,\n            int pageSize = 20,\n            CancellationToken cancellationToken = default)\n        {\n            var parameters = new Dictionary<string, string>\n            {\n                ["page"] = page.ToString(),\n                ["page_size"] = pageSize.ToString(),\n                ["search"] = query\n            };\n\n            return await GetAsync<PagedResponse<Expense>>("expenses", parameters, cancellationToken);\n        }\n\n        /// <summary>\n        /// Exports expenses to CSV.\n        /// </summary>\n        /// <param name="matterId">Filter by matter ID (optional).</param>\n        /// <param name="dateFrom">Filter by expense date from (optional).</param>\n        /// <param name="dateTo">Filter by expense date to (optional).</param>\n        /// <param name="category">Filter by category (optional).</param>\n        /// <param name="cancellationToken">Cancellation token.</param>\n        /// <returns>The CSV file content.</returns>\n        public async Task<byte[]> ExportExpensesToCsvAsync(\n            int? matterId = null,\n            DateTime? dateFrom = null,\n            DateTime? dateTo = null,\n            string? category = null,\n            CancellationToken cancellationToken = default)\n        {\n            var parameters = new Dictionary<string, string>();\n\n            if (matterId.HasValue)\n                parameters["matter_id"] = matterId.Value.ToString();\n\n            if (dateFrom.HasValue)\n                parameters["date_from"] = dateFrom.Value.ToString("yyyy-MM-dd");\n\n            if (dateTo.HasValue)\n                parameters["date_to"] = dateTo.Value.ToString("yyyy-MM-dd");\n\n            if (!string.IsNullOrEmpty(category))\n                parameters["category"] = category;\n\n            parameters["format"] = "csv";\n\n            return await GetFileAsync("expenses/export", parameters, cancellationToken);\n        }\n    }\n\n    /// <summary>\n    /// Response model for expense categories.\n    /// </summary>\n    public class ExpenseCategoriesResponse\n    {\n        /// <summary>\n        /// Gets or sets the list of expense categories.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("categories")]\n        public List<string> Categories { get; set; } = new();\n    }\n\n    /// <summary>\n    /// Represents expense summary information.\n    /// </summary>\n    public class ExpenseSummary\n    {\n        /// <summary>\n        /// Gets or sets the total amount.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("total_amount")]\n        public decimal TotalAmount { get; set; }\n\n        /// <summary>\n        /// Gets or sets the total count.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("total_count")]\n        public int TotalCount { get; set; }\n\n        /// <summary>\n        /// Gets or sets the average amount.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("average_amount")]\n        public decimal AverageAmount { get; set; }\n\n        /// <summary>\n        /// Gets or sets the breakdown by category.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("category_breakdown")]\n        public List<CategoryExpenseBreakdown> CategoryBreakdown { get; set; } = new();\n\n        /// <summary>\n        /// Gets or sets the breakdown by month.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("monthly_breakdown")]\n        public List<MonthlyExpenseBreakdown> MonthlyBreakdown { get; set; } = new();\n    }\n\n    /// <summary>\n    /// Represents expense breakdown by category.\n    /// </summary>\n    public class CategoryExpenseBreakdown\n    {\n        /// <summary>\n        /// Gets or sets the category name.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("category")]\n        public string Category { get; set; } = string.Empty;\n\n        /// <summary>\n        /// Gets or sets the total amount for the category.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("amount")]\n        public decimal Amount { get; set; }\n\n        /// <summary>\n        /// Gets or sets the count for the category.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("count")]\n        public int Count { get; set; }\n\n        /// <summary>\n        /// Gets or sets the percentage of total.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("percentage")]\n        public decimal Percentage { get; set; }\n    }\n\n    /// <summary>\n    /// Represents expense breakdown by month.\n    /// </summary>\n    public class MonthlyExpenseBreakdown\n    {\n        /// <summary>\n        /// Gets or sets the month.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("month")]\n        public string Month { get; set; } = string.Empty;\n\n        /// <summary>\n        /// Gets or sets the total amount for the month.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("amount")]\n        public decimal Amount { get; set; }\n\n        /// <summary>\n        /// Gets or sets the count for the month.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("count")]\n        public int Count { get; set; }\n    }\n}\n</create-file>\n</function_calls>'}