{'role': 'assistant', 'content': '\nNow let me create tests for EventsClient.\n\n\n\n<function_calls>\n<create-file file_path="./LawMatics.SDK.Tests/Clients/EventsClientTests.cs">\nusing System;\nusing System.Net;\nusing System.Net.Http;\nusing System.Text.Json;\nusing System.Threading;\nusing System.Threading.Tasks;\nusing LawMatics.SDK.Authentication;\nusing LawMatics.SDK.Clients;\nusing LawMatics.SDK.Configuration;\nusing LawMatics.SDK.Models;\nusing Microsoft.Extensions.Logging;\nusing Moq;\nusing Moq.Protected;\nusing Xunit;\n\nnamespace LawMatics.SDK.Tests.Clients\n{\n    /// <summary>\n    /// Unit tests for the <see cref="EventsClient"/> class.\n    /// </summary>\n    public class EventsClientTests : IDisposable\n    {\n        private readonly Mock<HttpMessageHandler> _mockHttpMessageHandler;\n        private readonly Mock<ILogger<EventsClient>> _mockLogger;\n        private readonly LawMaticsClientOptions _options;\n        private readonly LawMaticsCredentials _credentials;\n        private readonly HttpClient _httpClient;\n        private readonly EventsClient _client;\n\n        public EventsClientTests()\n        {\n            _mockHttpMessageHandler = new Mock<HttpMessageHandler>();\n            _mockLogger = new Mock<ILogger<EventsClient>>();\n            _options = new LawMaticsClientOptions\n            {\n                BaseUrl = "https://api.test.lawmatics.com",\n                ApiVersion = "v1",\n                TimeoutSeconds = 30\n            };\n            _credentials = new LawMaticsCredentials("test-access-token");\n            _httpClient = new HttpClient(_mockHttpMessageHandler.Object);\n            _client = new EventsClient(_httpClient, _options, _mockLogger.Object);\n        }\n\n        [Fact]\n        public async Task GetEventsAsync_WithValidResponse_ReturnsEvents()\n        {\n            // Arrange\n            var expectedResponse = new PagedResponse<Event>\n            {\n                Data = new List<Event>\n                {\n                    new Event { Id = 1, Title = "Test Event 1", StartDate = DateTime.UtcNow, EndDate = DateTime.UtcNow.AddHours(1) },\n                    new Event { Id = 2, Title = "Test Event 2", StartDate = DateTime.UtcNow.AddDays(1), EndDate = DateTime.UtcNow.AddDays(1).AddHours(2) }\n                },\n                Pagination = new PaginationInfo { Page = 1, PageSize = 10, TotalCount = 2 }\n            };\n            var responseJson = JsonSerializer.Serialize(expectedResponse);\n            var httpResponse = new HttpResponseMessage(HttpStatusCode.OK)\n            {\n                Content = new StringContent(responseJson, System.Text.Encoding.UTF8, "application/json")\n            };\n\n            _mockHttpMessageHandler\n                .Protected()\n                .Setup<Task<HttpResponseMessage>>(\n                    "SendAsync",\n                    ItExpr.IsAny<HttpRequestMessage>(),\n                    ItExpr.IsAny<CancellationToken>())\n                .ReturnsAsync(httpResponse);\n\n            // Act\n            var result = await _client.GetEventsAsync();\n\n            // Assert\n            Assert.NotNull(result);\n            Assert.NotNull(result.Data);\n            Assert.Equal(2, result.Data.Count);\n            Assert.Equal("Test Event 1", result.Data[0].Title);\n            Assert.Equal("Test Event 2", result.Data[1].Title);\n        }\n\n        [Fact]\n        public async Task GetEventAsync_WithValidId_ReturnsEvent()\n        {\n            // Arrange\n            var startDate = DateTime.UtcNow;\n            var expectedResponse = new ApiResponse<Event>\n            {\n                Data = new Event { Id = 1, Title = "Test Event", StartDate = startDate, EndDate = startDate.AddHours(1) }\n            };\n            var responseJson = JsonSerializer.Serialize(expectedResponse);\n            var httpResponse = new HttpResponseMessage(HttpStatusCode.OK)\n            {\n                Content = new StringContent(responseJson, System.Text.Encoding.UTF8, "application/json")\n            };\n\n            _mockHttpMessageHandler\n                .Protected()\n                .Setup<Task<HttpResponseMessage>>(\n                    "SendAsync",\n                    ItExpr.IsAny<HttpRequestMessage>(),\n                    ItExpr.IsAny<CancellationToken>())\n                .ReturnsAsync(httpResponse);\n\n            // Act\n            var result = await _client.GetEventAsync(1);\n\n            // Assert\n            Assert.NotNull(result);\n            Assert.NotNull(result.Data);\n            Assert.Equal(1, result.Data.Id);\n            Assert.Equal("Test Event", result.Data.Title);\n            Assert.Equal(startDate, result.Data.StartDate);\n        }\n\n        [Fact]\n        public async Task CreateEventAsync_WithValidRequest_ReturnsCreatedEvent()\n        {\n            // Arrange\n            var startDate = DateTime.UtcNow.AddDays(1);\n            var endDate = startDate.AddHours(2);\n            var request = new CreateEventRequest\n            {\n                Title = "New Event",\n                Description = "Test Description",\n                StartDate = startDate,\n                EndDate = endDate,\n                Location = "Test Location",\n                Type = "Meeting"\n            };\n            var expectedResponse = new ApiResponse<Event>\n            {\n                Data = new Event \n                { \n                    Id = 1, \n                    Title = request.Title, \n                    Description = request.Description,\n                    StartDate = request.StartDate,\n                    EndDate = request.EndDate,\n                    Location = request.Location,\n                    Type = request.Type\n                }\n            };\n            var responseJson = JsonSerializer.Serialize(expectedResponse);\n            var httpResponse = new HttpResponseMessage(HttpStatusCode.Created)\n            {\n                Content = new StringContent(responseJson, System.Text.Encoding.UTF8, "application/json")\n            };\n\n            _mockHttpMessageHandler\n                .Protected()\n                .Setup<Task<HttpResponseMessage>>(\n                    "SendAsync",\n                    ItExpr.IsAny<HttpRequestMessage>(),\n                    ItExpr.IsAny<CancellationToken>())\n                .ReturnsAsync(httpResponse);\n\n            // Act\n            var result = await _client.CreateEventAsync(request);\n\n            // Assert\n            Assert.NotNull(result);\n            Assert.NotNull(result.Data);\n            Assert.Equal(1, result.Data.Id);\n            Assert.Equal(request.Title, result.Data.Title);\n            Assert.Equal(request.Description, result.Data.Description);\n            Assert.Equal(request.StartDate, result.Data.StartDate);\n            Assert.Equal(request.EndDate, result.Data.EndDate);\n            Assert.Equal(request.Location, result.Data.Location);\n            Assert.Equal(request.Type, result.Data.Type);\n        }\n\n        [Fact]\n        public async Task UpdateEventAsync_WithValidRequest_ReturnsUpdatedEvent()\n        {\n            // Arrange\n            var startDate = DateTime.UtcNow;\n            var request = new UpdateEventRequest\n            {\n                Title = "Updated Event",\n                Description = "Updated Description",\n                Location = "Updated Location"\n            };\n            var expectedResponse = new ApiResponse<Event>\n            {\n                Data = new Event { Id = 1, Title = request.Title, Description = request.Description, Location = request.Location }\n            };\n            var responseJson = JsonSerializer.Serialize(expectedResponse);\n            var httpResponse = new HttpResponseMessage(HttpStatusCode.OK)\n            {\n                Content = new StringContent(responseJson, System.Text.Encoding.UTF8, "application/json")\n            };\n\n            _mockHttpMessageHandler\n                .Protected()\n                .Setup<Task<HttpResponseMessage>>(\n                    "SendAsync",\n                    ItExpr.IsAny<HttpRequestMessage>(),\n                    ItExpr.IsAny<CancellationToken>())\n                .ReturnsAsync(httpResponse);\n\n            // Act\n            var result = await _client.UpdateEventAsync(1, request);\n\n            // Assert\n            Assert.NotNull(result);\n            Assert.NotNull(result.Data);\n            Assert.Equal(1, result.Data.Id);\n            Assert.Equal(request.Title, result.Data.Title);\n            Assert.Equal(request.Description, result.Data.Description);\n            Assert.Equal(request.Location, result.Data.Location);\n        }\n\n        [Fact]\n        public async Task DeleteEventAsync_WithValidId_ReturnsSuccessResponse()\n        {\n            // Arrange\n            var expectedResponse = new ApiResponse<object> { Data = null };\n            var responseJson = JsonSerializer.Serialize(expectedResponse);\n            var httpResponse = new HttpResponseMessage(HttpStatusCode.NoContent)\n            {\n                Content = new StringContent(responseJson, System.Text.Encoding.UTF8, "application/json")\n            };\n\n            _mockHttpMessageHandler\n                .Protected()\n                .Setup<Task<HttpResponseMessage>>(\n                    "SendAsync",\n                    ItExpr.IsAny<HttpRequestMessage>(),\n                    ItExpr.IsAny<CancellationToken>())\n                .ReturnsAsync(httpResponse);\n\n            // Act\n            var result = await _client.DeleteEventAsync(1);\n\n            // Assert\n            Assert.NotNull(result);\n        }\n\n        [Fact]\n        public async Task GetEventsByDateRangeAsync_WithDateRange_ReturnsFilteredEvents()\n        {\n            // Arrange\n            var startDate = DateTime.UtcNow;\n            var endDate = startDate.AddDays(7);\n            var expectedResponse = new PagedResponse<Event>\n            {\n                Data = new List<Event>\n                {\n                    new Event { Id = 1, Title = "Date Range Event", StartDate = startDate.AddDays(1) }\n                },\n                Pagination = new PaginationInfo { Page = 1, PageSize = 10, TotalCount = 1 }\n            };\n            var responseJson = JsonSerializer.Serialize(expectedResponse);\n            var httpResponse = new HttpResponseMessage(HttpStatusCode.OK)\n            {\n                Content = new StringContent(responseJson, System.Text.Encoding.UTF8, "application/json")\n            };\n\n            _mockHttpMessageHandler\n                .Protected()\n                .Setup<Task<HttpResponseMessage>>(\n                    "SendAsync",\n                    ItExpr.IsAny<HttpRequestMessage>(),\n                    ItExpr.IsAny<CancellationToken>())\n                .ReturnsAsync(httpResponse);\n\n            // Act\n            var result = await _client.GetEventsByDateRangeAsync(startDate, endDate);\n\n            // Assert\n            Assert.NotNull(result);\n            Assert.NotNull(result.Data);\n            Assert.Single(result.Data);\n            Assert.Equal("Date Range Event", result.Data[0].Title);\n        }\n\n        [Fact]\n        public async Task GetEventsByTypeAsync_WithEventType_ReturnsFilteredEvents()\n        {\n            // Arrange\n            var eventType = "Meeting";\n            var expectedResponse = new PagedResponse<Event>\n            {\n                Data = new List<Event>\n                {\n                    new Event { Id = 1, Title = "Meeting Event", Type = "Meeting" }\n                },\n                Pagination = new PaginationInfo { Page = 1, PageSize = 10, TotalCount = 1 }\n            };\n            var responseJson = JsonSerializer.Serialize(expectedResponse);\n            var httpResponse = new HttpResponseMessage(HttpStatusCode.OK)\n            {\n                Content = new StringContent(responseJson, System.Text.Encoding.UTF8, "application/json")\n            };\n\n            _mockHttpMessageHandler\n                .Protected()\n                .Setup<Task<HttpResponseMessage>>(\n                    "SendAsync",\n                    ItExpr.IsAny<HttpRequestMessage>(),\n                    ItExpr.IsAny<CancellationToken>())\n                .ReturnsAsync(httpResponse);\n\n            // Act\n            var result = await _client.GetEventsByTypeAsync(eventType);\n\n            // Assert\n            Assert.NotNull(result);\n            Assert.NotNull(result.Data);\n            Assert.Single(result.Data);\n            Assert.Equal("Meeting Event", result.Data[0].Title);\n            Assert.Equal(eventType, result.Data[0].Type);\n        }\n\n        public void Dispose()\n        {\n            _httpClient?.Dispose();\n            _client?.Dispose();\n        }\n    }\n}\n</create-file>\n</function_calls>'}