{'role': 'assistant', 'content': '\nNow let me implement the EmailAddressesClient:\n\n<function_calls>\n<create-file file_path="LawMatics.SDK/Clients/EmailAddressesClient.cs">\nusing LawMatics.SDK.Configuration;\nusing LawMatics.SDK.Models;\nusing Microsoft.Extensions.Logging;\n\nnamespace LawMatics.SDK.Clients\n{\n    /// <summary>\n    /// Client for managing email addresses in the LawMatics API.\n    /// </summary>\n    public class EmailAddressesClient : BaseClient\n    {\n        public EmailAddressesClient(HttpClient httpClient, LawMaticsClientOptions options, ILogger<EmailAddressesClient> logger)\n            : base(httpClient, options, logger)\n        {\n        }\n\n        /// <summary>\n        /// Gets all email addresses with optional pagination and filtering.\n        /// </summary>\n        /// <param name="page">Page number for pagination (default: 1).</param>\n        /// <param name="pageSize">Number of items per page (default: 20).</param>\n        /// <param name="contactId">Filter by contact ID.</param>\n        /// <param name="email">Filter by email address.</param>\n        /// <param name="type">Filter by email type.</param>\n        /// <param name="isPrimary">Filter by primary status.</param>\n        /// <param name="cancellationToken">Cancellation token.</param>\n        /// <returns>A paged list of email addresses.</returns>\n        public async Task<PagedResponse<EmailAddress>> GetEmailAddressesAsync(\n            int page = 1,\n            int pageSize = 20,\n            int? contactId = null,\n            string? email = null,\n            string? type = null,\n            bool? isPrimary = null,\n            CancellationToken cancellationToken = default)\n        {\n            var parameters = new Dictionary<string, string>\n            {\n                ["page"] = page.ToString(),\n                ["page_size"] = pageSize.ToString()\n            };\n\n            if (contactId.HasValue)\n                parameters["contact_id"] = contactId.Value.ToString();\n\n            if (!string.IsNullOrEmpty(email))\n                parameters["email"] = email;\n\n            if (!string.IsNullOrEmpty(type))\n                parameters["type"] = type;\n\n            if (isPrimary.HasValue)\n                parameters["is_primary"] = isPrimary.Value.ToString();\n\n            return await GetAsync<PagedResponse<EmailAddress>>("email-addresses", parameters, cancellationToken);\n        }\n\n        /// <summary>\n        /// Gets a specific email address by ID.\n        /// </summary>\n        /// <param name="id">The email address ID.</param>\n        /// <param name="cancellationToken">Cancellation token.</param>\n        /// <returns>The email address details.</returns>\n        public async Task<EmailAddress?> GetEmailAddressAsync(int id, CancellationToken cancellationToken = default)\n        {\n            return await GetAsync<EmailAddress>($"email-addresses/{id}", cancellationToken: cancellationToken);\n        }\n\n        /// <summary>\n        /// Creates a new email address.\n        /// </summary>\n        /// <param name="request">The email address creation request.</param>\n        /// <param name="cancellationToken">Cancellation token.</param>\n        /// <returns>The created email address.</returns>\n        public async Task<EmailAddress?> CreateEmailAddressAsync(CreateEmailAddressRequest request, CancellationToken cancellationToken = default)\n        {\n            return await PostAsync<EmailAddress>("email-addresses", request, cancellationToken);\n        }\n\n        /// <summary>\n        /// Updates an existing email address.\n        /// </summary>\n        /// <param name="id">The email address ID.</param>\n        /// <param name="request">The email address update request.</param>\n        /// <param name="cancellationToken">Cancellation token.</param>\n        /// <returns>The updated email address.</returns>\n        public async Task<EmailAddress?> UpdateEmailAddressAsync(int id, UpdateEmailAddressRequest request, CancellationToken cancellationToken = default)\n        {\n            return await PutAsync<EmailAddress>($"email-addresses/{id}", request, cancellationToken);\n        }\n\n        /// <summary>\n        /// Deletes an email address.\n        /// </summary>\n        /// <param name="id">The email address ID.</param>\n        /// <param name="cancellationToken">Cancellation token.</param>\n        /// <returns>True if deletion was successful.</returns>\n        public async Task<bool> DeleteEmailAddressAsync(int id, CancellationToken cancellationToken = default)\n        {\n            return await DeleteAsync($"email-addresses/{id}", cancellationToken);\n        }\n\n        /// <summary>\n        /// Gets email addresses for a specific contact.\n        /// </summary>\n        /// <param name="contactId">The contact ID.</param>\n        /// <param name="page">Page number for pagination (default: 1).</param>\n        /// <param name="pageSize">Number of items per page (default: 20).</param>\n        /// <param name="cancellationToken">Cancellation token.</param>\n        /// <returns>A paged list of email addresses for the contact.</returns>\n        public async Task<PagedResponse<EmailAddress>> GetEmailAddressesByContactAsync(\n            int contactId,\n            int page = 1,\n            int pageSize = 20,\n            CancellationToken cancellationToken = default)\n        {\n            return await GetEmailAddressesAsync(page, pageSize, contactId: contactId, cancellationToken: cancellationToken);\n        }\n\n        /// <summary>\n        /// Gets the primary email address for a contact.\n        /// </summary>\n        /// <param name="contactId">The contact ID.</param>\n        /// <param name="cancellationToken">Cancellation token.</param>\n        /// <returns>The primary email address.</returns>\n        public async Task<EmailAddress?> GetPrimaryEmailAddressAsync(int contactId, CancellationToken cancellationToken = default)\n        {\n            return await GetAsync<EmailAddress>($"contacts/{contactId}/primary-email", cancellationToken: cancellationToken);\n        }\n\n        /// <summary>\n        /// Sets an email address as the primary email for a contact.\n        /// </summary>\n        /// <param name="id">The email address ID.</param>\n        /// <param name="cancellationToken">Cancellation token.</param>\n        /// <returns>The updated email address.</returns>\n        public async Task<EmailAddress?> SetPrimaryEmailAddressAsync(int id, CancellationToken cancellationToken = default)\n        {\n            return await PostAsync<EmailAddress>($"email-addresses/{id}/set-primary", null, cancellationToken);\n        }\n\n        /// <summary>\n        /// Validates an email address format.\n        /// </summary>\n        /// <param name="email">The email address to validate.</param>\n        /// <param name="cancellationToken">Cancellation token.</param>\n        /// <returns>Validation result.</returns>\n        public async Task<EmailValidationResult?> ValidateEmailAddressAsync(string email, CancellationToken cancellationToken = default)\n        {\n            var request = new { email };\n            return await PostAsync<EmailValidationResult>("email-addresses/validate", request, cancellationToken);\n        }\n\n        /// <summary>\n        /// Checks if an email address is already in use.\n        /// </summary>\n        /// <param name="email">The email address to check.</param>\n        /// <param name="excludeContactId">Exclude this contact ID from the check (optional).</param>\n        /// <param name="cancellationToken">Cancellation token.</param>\n        /// <returns>Email availability result.</returns>\n        public async Task<EmailAvailabilityResult?> CheckEmailAvailabilityAsync(\n            string email,\n            int? excludeContactId = null,\n            CancellationToken cancellationToken = default)\n        {\n            var parameters = new Dictionary<string, string>\n            {\n                ["email"] = email\n            };\n\n            if (excludeContactId.HasValue)\n                parameters["exclude_contact_id"] = excludeContactId.Value.ToString();\n\n            return await GetAsync<EmailAvailabilityResult>("email-addresses/check-availability", parameters, cancellationToken);\n        }\n\n        /// <summary>\n        /// Gets email address types.\n        /// </summary>\n        /// <param name="cancellationToken">Cancellation token.</param>\n        /// <returns>A list of email address types.</returns>\n        public async Task<List<string>> GetEmailAddressTypesAsync(CancellationToken cancellationToken = default)\n        {\n            var response = await GetAsync<EmailAddressTypesResponse>("email-addresses/types", cancellationToken: cancellationToken);\n            return response?.Types ?? new List<string>();\n        }\n\n        /// <summary>\n        /// Searches email addresses by email address.\n        /// </summary>\n        /// <param name="email">Email address to search for.</param>\n        /// <param name="page">Page number for pagination (default: 1).</param>\n        /// <param name="pageSize">Number of items per page (default: 20).</param>\n        /// <param name="cancellationToken">Cancellation token.</param>\n        /// <returns>A paged list of email addresses matching the search.</returns>\n        public async Task<PagedResponse<EmailAddress>> SearchEmailAddressesAsync(\n            string email,\n            int page = 1,\n            int pageSize = 20,\n            CancellationToken cancellationToken = default)\n        {\n            return await GetEmailAddressesAsync(page, pageSize, email: email, cancellationToken: cancellationToken);\n        }\n\n        /// <summary>\n        /// Bulk creates email addresses for a contact.\n        /// </summary>\n        /// <param name="contactId">The contact ID.</param>\n        /// <param name="requests">List of email address creation requests.</param>\n        /// <param name="cancellationToken">Cancellation token.</param>\n        /// <returns>A list of created email addresses.</returns>\n        public async Task<List<EmailAddress>> BulkCreateEmailAddressesAsync(\n            int contactId,\n            List<CreateEmailAddressRequest> requests,\n            CancellationToken cancellationToken = default)\n        {\n            var bulkRequest = new\n            {\n                contact_id = contactId,\n                email_addresses = requests\n            };\n\n            return await PostAsync<List<EmailAddress>>("email-addresses/bulk", bulkRequest, cancellationToken) ?? new List<EmailAddress>();\n        }\n\n        /// <summary>\n        /// Bulk deletes email addresses for a contact.\n        /// </summary>\n        /// <param name="contactId">The contact ID.</param>\n        /// <param name="emailIds">List of email address IDs to delete.</param>\n        /// <param name="cancellationToken">Cancellation token.</param>\n        /// <returns>True if bulk deletion was successful.</returns>\n        public async Task<bool> BulkDeleteEmailAddressesAsync(\n            int contactId,\n            List<int> emailIds,\n            CancellationToken cancellationToken = default)\n        {\n            var bulkRequest = new\n            {\n                contact_id = contactId,\n                email_ids = emailIds\n            };\n\n            var response = await PostAsync<object>("email-addresses/bulk-delete", bulkRequest, cancellationToken);\n            return response != null;\n        }\n\n        /// <summary>\n        /// Exports email addresses to CSV.\n        /// </summary>\n        /// <param name="contactId">Filter by contact ID (optional).</param>\n        /// <param name="type">Filter by email type (optional).</param>\n        /// <param name="cancellationToken">Cancellation token.</param>\n        /// <returns>The CSV file content.</returns>\n        public async Task<byte[]> ExportEmailAddressesToCsvAsync(\n            int? contactId = null,\n            string? type = null,\n            CancellationToken cancellationToken = default)\n        {\n            var parameters = new Dictionary<string, string>();\n\n            if (contactId.HasValue)\n                parameters["contact_id"] = contactId.Value.ToString();\n\n            if (!string.IsNullOrEmpty(type))\n                parameters["type"] = type;\n\n            parameters["format"] = "csv";\n\n            return await GetFileAsync("email-addresses/export", parameters, cancellationToken);\n        }\n    }\n\n    /// <summary>\n    /// Response model for email address types.\n    /// </summary>\n    public class EmailAddressTypesResponse\n    {\n        /// <summary>\n        /// Gets or sets the list of email address types.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("types")]\n        public List<string> Types { get; set; } = new();\n    }\n\n    /// <summary>\n    /// Represents email validation result.\n    /// </summary>\n    public class EmailValidationResult\n    {\n        /// <summary>\n        /// Gets or sets whether the email is valid.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("is_valid")]\n        public bool IsValid { get; set; }\n\n        /// <summary>\n        /// Gets or sets the normalized email address.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("normalized_email")]\n        public string NormalizedEmail { get; set; } = string.Empty;\n\n        /// <summary>\n        /// Gets or sets validation messages.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("messages")]\n        public List<string> Messages { get; set; } = new();\n\n        /// <summary>\n        /// Gets or sets suggestions for correction.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("suggestions")]\n        public List<string> Suggestions { get; set; } = new();\n    }\n\n    /// <summary>\n    /// Represents email availability result.\n    /// </summary>\n    public class EmailAvailabilityResult\n    {\n        /// <summary>\n        /// Gets or sets whether the email is available.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("is_available")]\n        public bool IsAvailable { get; set; }\n\n        /// <summary>\n        /// Gets or sets the contact ID using the email (if not available).\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("contact_id")]\n        public int? ContactId { get; set; }\n\n        /// <summary>\n        /// Gets or sets the contact name using the email (if not available).\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("contact_name")]\n        public string? ContactName { get; set; }\n\n        /// <summary>\n        /// Gets or sets message about availability.\n        /// </summary>\n        [System.Text.Json.Serialization.JsonPropertyName("message")]\n        public string Message { get; set; } = string.Empty;\n    }\n}\n</create-file>\n</function_calls>'}