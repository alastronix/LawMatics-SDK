  Determining projects to restore...
  All projects are up-to-date for restore.
  LawMatics.SDK -> /workspace/LawMatics.SDK/bin/Debug/net9.0/LawMatics.SDK.dll
  LawMatics.SDK.Tests -> /workspace/LawMatics.SDK.Tests/bin/Debug/net9.0/LawMatics.SDK.Tests.dll
Test run for /workspace/LawMatics.SDK.Tests/bin/Debug/net9.0/LawMatics.SDK.Tests.dll (.NETCoreApp,Version=v9.0)
VSTest version 17.14.1 (x64)

Starting test execution, please wait...
A total of 1 test files matched the specified pattern.
[xUnit.net 00:00:00.00] xUnit.net VSTest Adapter v2.8.2+699d445a1a (64-bit .NET 9.0.11)
[xUnit.net 00:00:00.17]   Discovering: LawMatics.SDK.Tests
[xUnit.net 00:00:00.24]   Discovered:  LawMatics.SDK.Tests
[xUnit.net 00:00:00.25]   Starting:    LawMatics.SDK.Tests
  Passed LawMatics.SDK.Tests.Configuration.LawMaticsClientOptionsTests.Validate_WithNegativeRetryDelay_ThrowsArgumentException [7 ms]
  Passed LawMatics.SDK.Tests.Configuration.LawMaticsClientOptionsTests.RemoveCustomHeader_WithEmptyName_ReturnsFalse [< 1 ms]
  Passed LawMatics.SDK.Tests.Configuration.LawMaticsClientOptionsTests.Production_ReturnsProductionOptions [10 ms]
  Passed LawMatics.SDK.Tests.Configuration.LawMaticsClientOptionsTests.Validate_WithInvalidAuthorizationUrl_ThrowsArgumentException [< 1 ms]
  Passed LawMatics.SDK.Tests.Configuration.LawMaticsClientOptionsTests.Validate_WithEmptyApiVersion_ThrowsArgumentException [< 1 ms]
  Passed LawMatics.SDK.Tests.Configuration.LawMaticsClientOptionsTests.AddCustomHeader_WithEmptyName_ThrowsArgumentException [< 1 ms]
  Passed LawMatics.SDK.Tests.Configuration.LawMaticsClientOptionsTests.RemoveCustomHeader_WithExistingHeader_RemovesHeader [< 1 ms]
  Passed LawMatics.SDK.Tests.Configuration.LawMaticsClientOptionsTests.GetApiUrl_WithEmptyEndpoint_ThrowsArgumentException [< 1 ms]
  Passed LawMatics.SDK.Tests.Configuration.LawMaticsClientOptionsTests.AddCustomHeader_WithExistingName_OverwritesValue [< 1 ms]
  Passed LawMatics.SDK.Tests.Configuration.LawMaticsClientOptionsTests.AddCustomHeader_WithNullValue_SetsEmptyValue [< 1 ms]
  Passed LawMatics.SDK.Tests.Configuration.LawMaticsClientOptionsTests.GetApiUrl_WithEndpointStartingWithSlash_ReturnsFullUrl [< 1 ms]
  Passed LawMatics.SDK.Tests.Configuration.LawMaticsClientOptionsTests.RemoveCustomHeader_WithNullName_ReturnsFalse [< 1 ms]
  Passed LawMatics.SDK.Tests.Configuration.LawMaticsClientOptionsTests.RemoveCustomHeader_WithNonExistingHeader_ReturnsFalse [< 1 ms]
  Passed LawMatics.SDK.Tests.Configuration.LawMaticsClientOptionsTests.AddCustomHeader_WithNullName_ThrowsArgumentException [< 1 ms]
  Passed LawMatics.SDK.Tests.Configuration.LawMaticsClientOptionsTests.Validate_WithNullApiVersion_ThrowsArgumentException [< 1 ms]
  Passed LawMatics.SDK.Tests.Configuration.LawMaticsClientOptionsTests.Validate_WithInvalidTokenUrl_ThrowsArgumentException [< 1 ms]
  Passed LawMatics.SDK.Tests.Configuration.LawMaticsClientOptionsTests.Validate_WithNegativeTimeout_ThrowsArgumentException [< 1 ms]
  Passed LawMatics.SDK.Tests.Configuration.LawMaticsClientOptionsTests.Validate_WithDefaultOptions_DoesNotThrow [< 1 ms]
  Passed LawMatics.SDK.Tests.Configuration.LawMaticsClientOptionsTests.AddCustomHeader_WithValidParameters_AddsHeader [< 1 ms]
  Passed LawMatics.SDK.Tests.Configuration.LawMaticsClientOptionsTests.Validate_WithInvalidBaseUrl_ThrowsArgumentException [< 1 ms]
  Passed LawMatics.SDK.Tests.Configuration.LawMaticsClientOptionsTests.Development_ReturnsDevelopmentOptions [< 1 ms]
  Passed LawMatics.SDK.Tests.Configuration.LawMaticsClientOptionsTests.Validate_WithEmptyBaseUrl_ThrowsArgumentException [< 1 ms]
  Passed LawMatics.SDK.Tests.Configuration.LawMaticsClientOptionsTests.GetApiUrl_WithValidEndpoint_ReturnsFullUrl [< 1 ms]
  Passed LawMatics.SDK.Tests.Configuration.LawMaticsClientOptionsTests.Validate_WithZeroTimeout_ThrowsArgumentException [< 1 ms]
  Passed LawMatics.SDK.Tests.Configuration.LawMaticsClientOptionsTests.GetApiUrl_WithNullEndpoint_ThrowsArgumentException [< 1 ms]
  Passed LawMatics.SDK.Tests.Configuration.LawMaticsClientOptionsTests.Validate_WithNegativeMaxRetryAttempts_ThrowsArgumentException [< 1 ms]
  Passed LawMatics.SDK.Tests.Configuration.LawMaticsClientOptionsTests.Validate_WithNullBaseUrl_ThrowsArgumentException [< 1 ms]
  Passed LawMatics.SDK.Tests.Configuration.LawMaticsClientOptionsTests.Default_ReturnsDefaultOptions [1 ms]
  Passed LawMatics.SDK.Tests.UnitTest1.Test1 [< 1 ms]
  Passed LawMatics.SDK.Tests.Authentication.LawMaticsCredentialsTests.FromTokenResponse_WithNullTokenResponse_ThrowsArgumentNullException [< 1 ms]
  Passed LawMatics.SDK.Tests.Authentication.LawMaticsCredentialsTests.IsExpired_WithNoExpiration_ReturnsFalse [< 1 ms]
  Passed LawMatics.SDK.Tests.Authentication.LawMaticsCredentialsTests.Constructor_WithNullClientSecret_ThrowsArgumentNullException [< 1 ms]
  Passed LawMatics.SDK.Tests.Authentication.LawMaticsCredentialsTests.Constructor_WithNullAccessToken_ThrowsArgumentNullException [< 1 ms]
  Passed LawMatics.SDK.Tests.Authentication.LawMaticsCredentialsTests.IsExpired_WithExpiredToken_ReturnsTrue [< 1 ms]
  Passed LawMatics.SDK.Tests.Authentication.LawMaticsCredentialsTests.HasRefreshToken_WithEmptyRefreshToken_ReturnsFalse [< 1 ms]
  Passed LawMatics.SDK.Tests.Authentication.LawMaticsCredentialsTests.ConstructorWithFullCredentials_WithNullAccessToken_ThrowsArgumentNullException [< 1 ms]
  Passed LawMatics.SDK.Tests.Authentication.LawMaticsCredentialsTests.FromTokenResponse_WithFullResponse_CreatesCredentials [< 1 ms]
  Passed LawMatics.SDK.Tests.Authentication.LawMaticsCredentialsTests.Constructor_WithAccessToken_SetsAccessToken [< 1 ms]
  Passed LawMatics.SDK.Tests.Authentication.LawMaticsCredentialsTests.IsExpired_WithValidToken_ReturnsFalse [< 1 ms]
  Passed LawMatics.SDK.Tests.Authentication.LawMaticsCredentialsTests.UpdateToken_WithOnlyAccessToken_UpdatesOnlyAccessToken [< 1 ms]
  Passed LawMatics.SDK.Tests.Authentication.LawMaticsCredentialsTests.Constructor_WithNullClientId_ThrowsArgumentNullException [< 1 ms]
  Passed LawMatics.SDK.Tests.Authentication.LawMaticsCredentialsTests.FromTokenResponse_WithNoExpiration_CreatesCredentialsWithoutExpiration [< 1 ms]
  Passed LawMatics.SDK.Tests.Authentication.LawMaticsCredentialsTests.HasRefreshToken_WithNullRefreshToken_ReturnsFalse [< 1 ms]
  Passed LawMatics.SDK.Tests.Authentication.LawMaticsCredentialsTests.UpdateToken_WithEmptyRefreshToken_DoesNotUpdateRefreshToken [< 1 ms]
[xUnit.net 00:00:00.50]     LawMatics.SDK.Tests.LawMaticsClientTests.Constructor_WithNegativeTimeout_ThrowsArgumentException [FAIL]
[xUnit.net 00:00:00.50]       Assert.Throws() Failure: Exception type was not an exact match
[xUnit.net 00:00:00.50]       Expected: typeof(System.ArgumentException)
[xUnit.net 00:00:00.50]       Actual:   typeof(System.ArgumentOutOfRangeException)
[xUnit.net 00:00:00.50]       ---- System.ArgumentOutOfRangeException : value ('-00:00:01') must be greater than '00:00:00'. (Parameter 'value')
[xUnit.net 00:00:00.50]       Actual value was -00:00:01.
[xUnit.net 00:00:00.50]       Stack Trace:
[xUnit.net 00:00:00.50]         /workspace/LawMatics.SDK.Tests/LawMaticsClientTests.cs(96,0): at LawMatics.SDK.Tests.LawMaticsClientTests.Constructor_WithNegativeTimeout_ThrowsArgumentException()
[xUnit.net 00:00:00.50]            at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
[xUnit.net 00:00:00.50]            at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
[xUnit.net 00:00:00.50]         ----- Inner Stack Trace -----
[xUnit.net 00:00:00.50]            at System.ArgumentOutOfRangeException.ThrowLessEqual[T](T value, T other, String paramName)
[xUnit.net 00:00:00.50]            at System.ArgumentOutOfRangeException.ThrowIfLessThanOrEqual[T](T value, T other, String paramName)
[xUnit.net 00:00:00.50]            at System.Net.Http.HttpClient.set_Timeout(TimeSpan value)
[xUnit.net 00:00:00.50]         /workspace/LawMatics.SDK/LawMaticsClient.cs(170,0): at LawMatics.SDK.LawMaticsClient.ConfigureHttpClient(HttpClient httpClient)
[xUnit.net 00:00:00.50]         /workspace/LawMatics.SDK/LawMaticsClient.cs(160,0): at LawMatics.SDK.LawMaticsClient.CreateHttpClient()
[xUnit.net 00:00:00.50]         /workspace/LawMatics.SDK/LawMaticsClient.cs(98,0): at LawMatics.SDK.LawMaticsClient..ctor(LawMaticsCredentials credentials, LawMaticsClientOptions options, ILogger logger)
[xUnit.net 00:00:00.50]         /workspace/LawMatics.SDK.Tests/LawMaticsClientTests.cs(96,0): at LawMatics.SDK.Tests.LawMaticsClientTests.<>c__DisplayClass9_0.<Constructor_WithNegativeTimeout_ThrowsArgumentException>b__0()
[xUnit.net 00:00:00.51]     LawMatics.SDK.Tests.LawMaticsClientTests.Constructor_WithInvalidBaseUrl_ThrowsArgumentException [FAIL]
[xUnit.net 00:00:00.51]       Assert.Throws() Failure: Exception type was not an exact match
[xUnit.net 00:00:00.51]       Expected: typeof(System.ArgumentException)
[xUnit.net 00:00:00.51]       Actual:   typeof(System.UriFormatException)
[xUnit.net 00:00:00.51]       ---- System.UriFormatException : Invalid URI: The format of the URI could not be determined.
[xUnit.net 00:00:00.51]       Stack Trace:
[xUnit.net 00:00:00.51]         /workspace/LawMatics.SDK.Tests/LawMaticsClientTests.cs(83,0): at LawMatics.SDK.Tests.LawMaticsClientTests.Constructor_WithInvalidBaseUrl_ThrowsArgumentException()
[xUnit.net 00:00:00.51]            at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
[xUnit.net 00:00:00.51]            at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
[xUnit.net 00:00:00.51]         ----- Inner Stack Trace -----
[xUnit.net 00:00:00.51]            at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions& creationOptions)
[xUnit.net 00:00:00.51]            at System.Uri..ctor(String uriString)
[xUnit.net 00:00:00.51]         /workspace/LawMatics.SDK/LawMaticsClient.cs(167,0): at LawMatics.SDK.LawMaticsClient.ConfigureHttpClient(HttpClient httpClient)
[xUnit.net 00:00:00.51]         /workspace/LawMatics.SDK/LawMaticsClient.cs(160,0): at LawMatics.SDK.LawMaticsClient.CreateHttpClient()
[xUnit.net 00:00:00.51]         /workspace/LawMatics.SDK/LawMaticsClient.cs(98,0): at LawMatics.SDK.LawMaticsClient..ctor(LawMaticsCredentials credentials, LawMaticsClientOptions options, ILogger logger)
[xUnit.net 00:00:00.51]         /workspace/LawMatics.SDK.Tests/LawMaticsClientTests.cs(83,0): at LawMatics.SDK.Tests.LawMaticsClientTests.<>c__DisplayClass8_0.<Constructor_WithInvalidBaseUrl_ThrowsArgumentException>b__0()
  Passed LawMatics.SDK.Tests.Authentication.LawMaticsCredentialsTests.Constructor_WithFullCredentials_SetsAllProperties [22 ms]
  Passed LawMatics.SDK.Tests.Authentication.LawMaticsCredentialsTests.HasRefreshToken_WithRefreshToken_ReturnsTrue [< 1 ms]
  Passed LawMatics.SDK.Tests.Authentication.LawMaticsCredentialsTests.UpdateToken_WithNullAccessToken_ThrowsArgumentNullException [< 1 ms]
  Passed LawMatics.SDK.Tests.Authentication.LawMaticsCredentialsTests.UpdateToken_WithAllParameters_UpdatesAllTokenProperties [< 1 ms]
  Passed LawMatics.SDK.Tests.Authentication.LawMaticsCredentialsTests.IsExpired_WithTokenExpiringSoon_ReturnsTrue [< 1 ms]
  Failed LawMatics.SDK.Tests.LawMaticsClientTests.Constructor_WithNegativeTimeout_ThrowsArgumentException [173 ms]
  Error Message:
   Assert.Throws() Failure: Exception type was not an exact match
Expected: typeof(System.ArgumentException)
Actual:   typeof(System.ArgumentOutOfRangeException)
---- System.ArgumentOutOfRangeException : value ('-00:00:01') must be greater than '00:00:00'. (Parameter 'value')
Actual value was -00:00:01.
  Stack Trace:
     at LawMatics.SDK.Tests.LawMaticsClientTests.Constructor_WithNegativeTimeout_ThrowsArgumentException() in /workspace/LawMatics.SDK.Tests/LawMaticsClientTests.cs:line 96
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
----- Inner Stack Trace -----
   at System.ArgumentOutOfRangeException.ThrowLessEqual[T](T value, T other, String paramName)
   at System.ArgumentOutOfRangeException.ThrowIfLessThanOrEqual[T](T value, T other, String paramName)
   at System.Net.Http.HttpClient.set_Timeout(TimeSpan value)
   at LawMatics.SDK.LawMaticsClient.ConfigureHttpClient(HttpClient httpClient) in /workspace/LawMatics.SDK/LawMaticsClient.cs:line 170
   at LawMatics.SDK.LawMaticsClient.CreateHttpClient() in /workspace/LawMatics.SDK/LawMaticsClient.cs:line 160
   at LawMatics.SDK.LawMaticsClient..ctor(LawMaticsCredentials credentials, LawMaticsClientOptions options, ILogger logger) in /workspace/LawMatics.SDK/LawMaticsClient.cs:line 98
   at LawMatics.SDK.Tests.LawMaticsClientTests.<>c__DisplayClass9_0.<Constructor_WithNegativeTimeout_ThrowsArgumentException>b__0() in /workspace/LawMatics.SDK.Tests/LawMaticsClientTests.cs:line 96
  Passed LawMatics.SDK.Tests.LawMaticsClientTests.Constructor_WithNullCredentials_ThrowsArgumentNullException [< 1 ms]
  Passed LawMatics.SDK.Tests.LawMaticsClientTests.UpdateCredentials_WithNullCredentials_ThrowsArgumentNullException [10 ms]
  Failed LawMatics.SDK.Tests.LawMaticsClientTests.Constructor_WithInvalidBaseUrl_ThrowsArgumentException [< 1 ms]
  Error Message:
   Assert.Throws() Failure: Exception type was not an exact match
Expected: typeof(System.ArgumentException)
Actual:   typeof(System.UriFormatException)
---- System.UriFormatException : Invalid URI: The format of the URI could not be determined.
  Stack Trace:
     at LawMatics.SDK.Tests.LawMaticsClientTests.Constructor_WithInvalidBaseUrl_ThrowsArgumentException() in /workspace/LawMatics.SDK.Tests/LawMaticsClientTests.cs:line 83
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
----- Inner Stack Trace -----
   at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions& creationOptions)
   at System.Uri..ctor(String uriString)
   at LawMatics.SDK.LawMaticsClient.ConfigureHttpClient(HttpClient httpClient) in /workspace/LawMatics.SDK/LawMaticsClient.cs:line 167
   at LawMatics.SDK.LawMaticsClient.CreateHttpClient() in /workspace/LawMatics.SDK/LawMaticsClient.cs:line 160
   at LawMatics.SDK.LawMaticsClient..ctor(LawMaticsCredentials credentials, LawMaticsClientOptions options, ILogger logger) in /workspace/LawMatics.SDK/LawMaticsClient.cs:line 98
   at LawMatics.SDK.Tests.LawMaticsClientTests.<>c__DisplayClass8_0.<Constructor_WithInvalidBaseUrl_ThrowsArgumentException>b__0() in /workspace/LawMatics.SDK.Tests/LawMaticsClientTests.cs:line 83
[xUnit.net 00:00:00.67]   Finished:    LawMatics.SDK.Tests
  Passed LawMatics.SDK.Tests.LawMaticsClientTests.DeleteAsync_WithValidEndpoint_ReturnsResponse [99 ms]
  Passed LawMatics.SDK.Tests.LawMaticsClientTests.Dispose_CanBeCalledMultipleTimes_DoesNotThrow [< 1 ms]
  Passed LawMatics.SDK.Tests.LawMaticsClientTests.UpdateCredentials_WithValidCredentials_UpdatesCredentials [< 1 ms]
  Passed LawMatics.SDK.Tests.LawMaticsClientTests.Constructor_WithNullOptions_UsesDefaultOptions [< 1 ms]
  Passed LawMatics.SDK.Tests.LawMaticsClientTests.PutAsync_WithValidData_ReturnsResponse [37 ms]
  Passed LawMatics.SDK.Tests.LawMaticsClientTests.Constructor_WithValidParameters_CreatesClient [< 1 ms]
  Passed LawMatics.SDK.Tests.LawMaticsClientTests.Constructor_WithNullLogger_UsesNullLogger [< 1 ms]
  Passed LawMatics.SDK.Tests.LawMaticsClientTests.GetAsync_WithValidEndpoint_ReturnsResponse [3 ms]
  Passed LawMatics.SDK.Tests.LawMaticsClientTests.PostAsync_WithValidData_ReturnsResponse [2 ms]

Test Run Failed.
Total tests: 62
     Passed: 60
     Failed: 2
 Total time: 1.4444 Seconds
